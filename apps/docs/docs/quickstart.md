---
title: Первые шаги
description: Как создать своего первого Червячка
pagination_next: null
pagination_prev: null
---

import Link from '@docusaurus/Link'
import CardLink from '@site/src/components/CardLink';
import { starters } from '@site/src/data/starters.js';

# Первые шаги

В этом гайде ты создашь своего первого Червячка на основе одного из стартеров и увидишь его в деле!

## Как оно работает?

Чтобы играть в Battlesnake тебе нужно создать и запустить веб-сервер, реализующий Battlesnake API.

Серверный движок, запущенный у нас, организаторов турнира, будет отправлять на твой веб-сервер запросы, по одному на каждый ход. Ответы твоего веб-сервера и определят поведение твоего Червяка на поле. 

![Game loop diagram](/img/simple_server_diagram.png)

## 1. Выбор технологического стека

Ты можешь использовать любой язык программирования, любую библиотеку для реализации веб-интерфейса, любой из разрешенных алгоритмов для построения стратегии или же положиться на псевдорандом, лишь избегая заведомо проигрышных ходов. Но чтобы минимизировать боль при настройке и сосредоточиться на логике Червячка, мы подготовили несколько стартеров, ориентируясь на языки программирования, выбранные участниками при регистрации.

Каждый стартер - это уже подготовленный к запуску веб-сервер, выделенные отдельно модули для реализации логики, реализованная рандомная стратегия движения, а также тесты, прохождение которых гарантирует тебе выход в финал.

Деплой на внешние сервера в отборочном раунде не предполагается. В процессе разработки ваши решения будут запускаться локально, с целью минимизировать пинг и временные затраты на развертывание.

<div className="row">
    {starters.map((p) => (
        <div key={p.name} className="col col--4">
            <CardLink to={p.href} bodyStyle={{ display: 'flex', alignItems: 'center', gap: '10px', flexWrap: "wrap" }}>
                <p.Svg role="img" style={{width: '20px'}} />
                <p>{p.name}</p>
            </CardLink>
        </div>
    ))}
</div>


## 2. Запуск стартера

В зависимости от стартера, могут потребоваться предварительные шаги, такие как установка интерпретатора, настройка IDE или же установка зависимостей. Эти шаги, так же как и команды для запуска веб-сервера, описаны в файле `README` в корневой директории стартеров. 

Выполни инструкции по запуску.

Теперь, чтобы убедиться, что твой сервер функционирует, перейди по URL из консоли. Произойдет запрос базовой информации о твоем Червячке.

```json
{"author": "", "color": "#888888", "head": "default", "tail": "default"}
```

Если в браузере отобразился `json` с аналогичной схемой, значит всё в порядке и можно начинать работать над логикой!

## 3. Battlesnake CLI

На отборочном этапе для разработки своих Червячков мы предлагаем использовать локальное окружение `Battlesnake CLI`. Оно позволяет не зависеть от внешней инфраструктуры, а также существенно ускоряет разработку, позволяя быстрее тестировать тактические гипотезы.

:::info
Если ты выбрал стек на базе `JS` или `Python` , то `Battlesnake CLI` уже интегрирован в решение, и это примечание к тебе не относится. 

Если ты работаешь на C# или иных языках, то используй подходящий бинарник для своей операционной системы и архитектуры по [ссылке](https://github.com/BattlesnakeOfficial/rules/releases/tag/v1.2.3). Архив нужно будет распаковать, а исполняемый файл либо бросить в директорию со стартером, либо добавить в `PATH`. 

Это консольная программа, а значит исполнять ее нужно через терминал: используй `cmd` на Windows, `Terminal` на Mac. 

Пример использования, где `--name` это имя червячка, а `--url` - адрес локального веб-сервера:

```sh
battlesnake play --name 'First Snake' --url http://localhost:8000 -g solo --browser
```
:::

Итак, выполни действия, прописанные в `README` для запуска `cli`. Должен открыться браузер с визуализацией созданной игры.

![A fresh Battlesnake game with your first Battlesnake ready to go](/img/game_board_fresh.png)

## 4. Перестаем погибать

Если червячок останется таким же глупым, веселый игры у нас не получится! Поэтому, за работу.

**Например...** можно начать с контроля габаритов, иными словами - перестать выходить за границы игрового поля. Для этого изучи данные, которые приходят на твой веб-сервер каждый новый ход. Ты можешь использовать информацию о положении твоего Червячка и информацию о размерах игрового поля (это не обязательно 11х11), чтобы избежать опасных ходов. 

Неплохой чеклист для старта, а по совместительству - набор критериев для выхода в финал:

* ✅ Избегай выхода за границы поля
* ✅ Избегай столкновений с собой
* ✅ Избегай столкновений с другими червячками
* ✅ Продержись на поле без других червячков 20 ходов

:::tip
Чтобы проверить соответствие твоей модели этим критериям мы положили в каждый стартер набор автотестов, а в `README` - инструкцию по их запуску.
:::

## 5. Совершенствование логики

Теперь самое веселое - можно растить Червячка-Чемпиона. Для начала, подумай над стратегией - какой характер Червячка ты бы хотел отразить в коде (осторожный, атакующий, безумный). 

1. Придумай идею для улучшения
2. Внеси изменения и перезапусти сервер
3. Создай новую игру и оцени, стоило ли оно того
4. Повторяй, пока не будешь удовлетворен результатом

Первое, чем можно озаботиться - поиском еды и (если это твой стиль) атакой более слабых соперников. Об этом подробнее расскажем завтра, но если осталось время - тебе поможет алгоритм A*. 